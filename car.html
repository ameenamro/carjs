<!DOCTYPE html>
<html lang="en">
<script>
const carMarket = {
    sellers: [
        {
            agencyName: "Best Deal",
            cash: 1245000,
            credit: 200000,
            agencyId: "Plyq5M5AZ",

            cars: [
                {
                    brand: "bmw",
                    models: [
                        {
                            name: "3",
                            year: 2015,
                            price: 137000,
                            carNumber: "AZJZ4",
                            ownerId: "Plyq5M5AZ",
                        },
                        {
                            name: "X6",
                            year: 2020,
                            price: 966500,
                            carNumber: "S6DL1",
                            ownerId: "Plyq5M5AZ",
                        },
                    ],
                },
                {
                    brand: "toyota",
                    models: [
                        {
                            name: "Land Cruiser",
                            year: 2020,
                            price: 336300,
                            carNumber: "6rvXw",
                            ownerId: "Plyq5M5AZ",
                        },
                        {
                            name: "Hilux",
                            year: 2005,
                            price: 35005,
                            carNumber: "MWXBG",
                            ownerId: "Plyq5M5AZ",
                        },
                        {
                            name: "Corolla",
                            year: 2020,
                            price: 111900,
                            carNumber: "hCzl-",
                            ownerId: "Plyq5M5AZ",
                        },
                    ],
                },
                {
                    brand: "Ford",
                    models: [
                        {
                            name: "Focus",
                            year: 2020,
                            price: 98200,
                            carNumber: "kN3HP",
                            ownerId: "Plyq5M5AZ",
                        },
                        {
                            name: "Focus",
                            year: 2005,
                            price: 6502,
                            carNumber: "LJTCs",
                            ownerId: "Plyq5M5AZ",
                        },
                    ],
                },
                {
                    brand: "Alpha romeo",
                    models: [
                        {
                            name: "Romeo Julia",
                            year: 2020,
                            price: 275406,
                            carNumber: "2kjy7",
                            ownerId: "Plyq5M5AZ",
                        },
                        {
                            name: "Romeo Stelvio",
                            year: 2019,
                            price: 215403,
                            carNumber: "7A5b-",
                            ownerId: "Plyq5M5AZ",
                        },
                    ],
                },
                {
                    brand: "Chevrolet",
                    models: [
                        {
                            name: "Traverse",
                            year: 2020,
                            price: 201102,
                            carNumber: "QwBOT",
                            ownerId: "Plyq5M5AZ",
                        },
                        {
                            name: "Impala",
                            year: 2019,
                            price: 165041,
                            carNumber: "2v4jt",
                            ownerId: "Plyq5M5AZ",
                        },
                        {
                            name: "Malibu",
                            year: 2017,
                            price: 75405,
                            carNumber: "O4_Jv",
                            ownerId: "Plyq5M5AZ",
                        },
                    ],
                },
            ],
        },
        {
            agencyName: "CarMax",
            cash: 968541,
            credit: 500000,
            agencyId: "26_IPfHU1",
            cars: [
                {
                    brand: "bmw",
                    models: [
                        {
                            name: "X5",
                            year: 2015,
                            price: 218000,
                            carNumber: "4Ixb0",
                            ownerId: "26_IPfHU1",
                        },
                        {
                            name: "X6",
                            year: 2014,
                            price: 97100,
                            carNumber: "kAnv-",
                            ownerId: "26_IPfHU1",
                        },
                        {
                            name: "Z4",
                            year: 2019,
                            price: 296900,
                            carNumber: "ISMdU",
                            ownerId: "26_IPfHU1",
                        },
                        {
                            name: "3",
                            year: 2010,
                            price: 75100,
                            carNumber: "9DJPw",
                            ownerId: "26_IPfHU1",
                        },
                    ],
                },
                {
                    brand: "toyota",
                    models: [
                        {
                            name: "Land Cruiser",
                            year: 2005,
                            price: 80540,
                            carNumber: "Kt-pW",
                            ownerId: "26_IPfHU1",
                        },
                        {
                            name: "Corolla",
                            year: 2019,
                            price: 109100,
                            carNumber: "YiYdI",
                            ownerId: "26_IPfHU1",
                        },
                        {
                            name: "Hilux",
                            year: 2019,
                            price: 204000,
                            carNumber: "DRmNw",
                            ownerId: "26_IPfHU1",
                        },
                    ],
                },
                {
                    brand: "Ford",
                    models: [
                        {
                            name: "F250",
                            year: 2020,
                            price: 198500,
                            carNumber: "g4Wfp",
                            ownerId: "26_IPfHU1",
                        },
                        {
                            name: "Explorer",
                            year: 2020,
                            price: 265200,
                            carNumber: "iNT8Q",
                            ownerId: "26_IPfHU1",
                        },
                    ],
                },
                {
                    brand: "Alpha romeo",
                    models: [
                        {
                            name: "Spider",
                            year: 2011,
                            price: 75405,
                            carNumber: "6t7QU",
                            ownerId: "26_IPfHU1",
                        },
                        {
                            name: "166",
                            year: 2002,
                            price: 12400,
                            carNumber: "XMqpn",
                            ownerId: "26_IPfHU1",
                        },
                    ],
                },
                {
                    brand: "Chevrolet",
                    models: [
                        {
                            name: "Impala",
                            year: 2016,
                            price: 65042,
                            carNumber: "vbeAo",
                            ownerId: "26_IPfHU1",
                        },
                        {
                            name: "Savannah",
                            year: 2016,
                            price: 76505,
                            carNumber: "WelWa",
                            ownerId: "26_IPfHU1",
                        },
                    ],
                },
            ],
        },
        {
            agencyName: "The Auto World",
            cash: 687450,
            credit: 200000,
            agencyId: "gNHjNFL12",
            cars: [
                {
                    brand: "bmw",
                    models: [
                        {
                            name: "X6",
                            year: 2018,
                            price: 548100,
                            carNumber: "EMW_7",
                            ownerId: "gNHjNFL12",
                        },
                        {
                            name: "3",
                            year: 2017,
                            price: 178000,
                            carNumber: "XlnB4",
                            ownerId: "gNHjNFL12",
                        },
                    ],
                },
                {
                    brand: "toyota",
                    models: [
                        {
                            name: "Prius",
                            year: 2017,
                            price: 101542,
                            carNumber: "-RQgN",
                            ownerId: "gNHjNFL12",
                        },
                        {
                            name: "Highlander",
                            year: 2017,
                            price: 202540,
                            carNumber: "AZJZ4",
                            ownerId: "gNHjNFL12",
                        },
                        {
                            name: "Corolla",
                            year: 1996,
                            price: 5420,
                            carNumber: "kHE8f",
                            ownerId: "gNHjNFL12",
                        },
                        {
                            name: "Corolla",
                            year: 2012,
                            price: 40570,
                            carNumber: "p2qEi",
                            ownerId: "gNHjNFL12",
                        },
                    ],
                },
                {
                    brand: "Ford",
                    models: [
                        {
                            name: "Explorer",
                            year: 2014,
                            price: 127502,
                            carNumber: "Ty1zN",
                            ownerId: "gNHjNFL12",
                        },
                        {
                            name: "F350",
                            year: 2012,
                            price: 54250,
                            carNumber: "z03H2",
                            ownerId: "gNHjNFL12",
                        },
                    ],
                },
                {
                    brand: "Chevrolet",
                    models: [
                        {
                            name: "Savannah",
                            year: 2010,
                            price: 36504,
                            carNumber: "RXFZe",
                            ownerId: "gNHjNFL12",
                        },
                        {
                            name: "Malibu",
                            year: 2009,
                            price: 19585,
                            carNumber: "K5IsM",
                            ownerId: "gNHjNFL12",
                        },
                    ],
                },
            ],
        },
        {
            agencyName: "Car Werks",
            cash: 302502,
            credit: 150000,
            agencyId: "9KeaYbRLP",
            cars: [
                {
                    brand: "bmw",
                    models: [
                        {
                            name: "8",
                            year: 2020,
                            price: 942500,
                            carNumber: "4IUMz",
                            ownerId: "9KeaYbRLP",
                        },
                        {
                            name: "X6",
                            year: 2010,
                            price: 129000,
                            carNumber: "Vw0fV",
                            ownerId: "9KeaYbRLP",
                        },
                        {
                            name: "X3",
                            year: 2019,
                            price: 358100,
                            carNumber: "ufN54",
                            ownerId: "9KeaYbRLP",
                        },
                        {
                            name: "3",
                            year: 2020,
                            price: 389100,
                            carNumber: "F127X",
                            ownerId: "9KeaYbRLP",
                        },
                        {
                            name: "3",
                            year: 2002,
                            price: 18400,
                            carNumber: "ueZUp",
                            ownerId: "9KeaYbRLP",
                        },
                    ],
                },
                {
                    brand: "toyota",
                    models: [
                        {
                            name: "Prius",
                            year: 2011,
                            price: 38520,
                            carNumber: "AZJZ4",
                            ownerId: "9KeaYbRLP",
                        },
                        {
                            name: "Land Cruiser",
                            year: 2019,
                            price: 290040,
                            carNumber: "AZJZ4",
                            ownerId: "9KeaYbRLP",
                        },
                        {
                            name: "Hilux",
                            year: 2020,
                            price: 215700,
                            carNumber: "xig8N",
                            ownerId: "9KeaYbRLP",
                        },
                        {
                            name: "Hilux",
                            year: 2015,
                            price: 178506,
                            carNumber: "ghTiQ",
                            ownerId: "9KeaYbRLP",
                        },
                        {
                            name: "Corolla",
                            year: 2002,
                            price: 8504,
                            carNumber: "Mvw8T",
                            ownerId: "9KeaYbRLP",
                        },
                    ],
                },
                {
                    brand: "Chevrolet",
                    models: [
                        {
                            name: "Impala",
                            year: 2005,
                            price: 9320,
                            carNumber: "BZpkt",
                            ownerId: "9KeaYbRLP",
                        },
                        {
                            name: "Malibu",
                            year: 2002,
                            price: 4502,
                            carNumber: "KqKV_",
                            ownerId: "9KeaYbRLP",
                        },
                    ],
                },
            ],
        },
        {
            agencyName: "Carsova",
            cash: 72450,
            credit: 50000,
            agencyId: "oqQmsZoUo",
            cars: [
                {
                    brand: "bmw",
                    models: [
                        {
                            name: "7",
                            year: 1999,
                            price: 24700,
                            carNumber: "sZrjp",
                            ownerId: "oqQmsZoUo",
                        },
                        {
                            name: "3",
                            year: 2008,
                            price: 54000,
                            carNumber: "da88K",
                            ownerId: "oqQmsZoUo",
                        },
                    ],
                },
                {
                    brand: "toyota",
                    models: [
                        {
                            name: "Prius",
                            year: 2019,
                            price: 124050,
                            carNumber: "ZfbqH",
                            ownerId: "oqQmsZoUo",
                        },
                        {
                            name: "Hilux",
                            year: 1996,
                            price: 11540,
                            carNumber: "AZJZ4",
                            ownerId: "oqQmsZoUo",
                        },
                    ],
                },
            ],
        },
    ],
    customers: [
        {
            name: "Lilah Goulding",
            id: "BGzHhjnE8",
            cars: [
                {
                    name: "Corolla",
                    year: 2013,
                    price: 40570,
                    carNumber: "16da1",
                    ownerId: "BGzHhjnE8",
                },
            ],
            cash: 35000,
        },
        {
            name: "Ravi Murillo",
            id: "2RprZ1dbL",
            cars: [
                {
                    name: "M5",
                    year: 2019,
                    price: 578054,
                    carNumber: "WIh0U",
                    ownerId: "2RprZ1dbL",
                },
                {
                    name: "Spider",
                    year: 2012,
                    price: 81520,
                    carNumber: "RLS4q",
                    ownerId: "2RprZ1dbL",
                },
            ],
            cash: 278542,
        },
        {
            name: "Aleksander Carr",
            id: "pAuFtn_WA",
            cars: [
                {
                    name: "Highlander",
                    year: 2018,
                    price: 214503,
                    carNumber: "2WU_y",
                    ownerId: "pAuFtn_WA",
                },
            ],
            cash: 125402,
        },
        {
            name: "Lana Edge",
            id: "cnTobUDy6",
            cars: [
                {
                    name: "F250",
                    year: 2020,
                    price: 198500,
                    carNumber: "Xxcy_",
                    ownerId: "cnTobUDy6",
                },
                {
                    name: "Hilux",
                    year: 2005,
                    price: 35005,
                    carNumber: "VSCUj",
                    ownerId: "cnTobUDy6",
                },
            ],
            cash: 7000,
        },
        {
            name: "Nikita Philip",
            id: "5x2tMcX4R",
            cars: [
                {
                    name: "Impala",
                    year: 2016,
                    price: 65042,
                    carNumber: "LKInp",
                    ownerId: "5x2tMcX4R",
                },
            ],
            cash: 40541,
        },
        {
            name: "Bob Steel",
            id: "Wm6BkA1F0",
            cars: [],
            cash: 15732,
        },
        {
            name: "Will Reyes",
            id: "FQvNsEwLZ",
            cars: [
                { name: "X6", year: 2020, price: 966500, ownerId: "FQvNsEwLZ" },
                {
                    name: "Land Cruiser",
                    year: 2020,
                    price: 336300,
                    carNumber: "vaJvd",
                    ownerId: "FQvNsEwLZ",
                },
                {
                    name: "Romeo Julia",
                    year: 2020,
                    price: 275406,
                    carNumber: "qLoYR",
                    ownerId: "FQvNsEwLZ",
                },
                {
                    name: "Explorer",
                    year: 2020,
                    price: 265200,
                    carNumber: "tlGRq",
                    ownerId: "FQvNsEwLZ",
                },
            ],
            cash: 1547242,
        },
    ],
    taxesAuthority: {
        totalTaxesPaid: 0,
        sumOfAllTransactions: 0,
        numberOfTransactions: 0,
    },
};


// Agency operations
function searchAgencyByNameOrID(query)
{

    return carMarket.sellers.find(
    (seller) =>
      seller.agencyName === query ||
      seller.agencyId === query
  ); 

}

function getAllAgencyNames() {
    return carMarket.sellers.map((seller) => seller.agencyName);
}

function addCarToAgency(agencyId, car) {
    const agency = carMarket.sellers.find((seller) => seller.agencyId === agencyId);
  if (agency) {
    agency.cars.push(car);
  } else {
    console.log("Agency not found");
  }
}

function removeCarFromAgency(agencyId, carId) 
{


    const agency = carMarket.sellers.find((seller) => seller.agencyId === agencyId);
  if (agency) {
    agency.cars = agency.cars.filter((car) => car.carNumber !== carId);
  } else {
    console.log("Agency not found");
  }


    
}

function changeAgencyCashOrCredit(agencyId, amount)
{

    const agency = searchAgencyByNameOrID(agencyID);
  if (agency) {
    const carIndex = agency.cars.findIndex((car) => car.carNumber === carNumber);
    if (carIndex !== -1) {
      agency.cars.splice(carIndex, 1); // Remove the car from the agency's inventory
      return true; // Car removed successfully
    }
  }
  return false; // Car removal failed (agency or car not found)
}



function updateCarPrice(agencyId, carId, newPrice) {
    const agency = searchAgencyByNameOrID(agencyID);
  if (agency) {
    const carToUpdate = agency.cars.find((car) => car.carNumber === carNumber);
    if (carToUpdate) {
      carToUpdate.price = newPrice;
      return true; // Price updated successfully
    }
  }
  return false; // Price update failed (agency or car not found)}
}
function getTotalAgencyRevenue(agencyID) {
  const agency = searchAgencyByNameOrID(agencyID);
  if (agency) {
    const totalRevenue = agency.cars.reduce((sum, car) => sum + car.price);
    return totalRevenue;
  }
  return null; // Agency not found, return null
}


function transferCarBetweenAgencies(fromAgencyId, toAgencyId, carId) {
  // Implement logic to transfer a car from one agency to another
}

// Customer operations
function searchCustomer(query) {
  // Implement search logic here
}

function getAllCustomerNames() {
  // Implement logic to retrieve all customer names
}

function changeCustomerCash(customerId, amount) {
  // Implement logic to change a customer's cash
}

function getCustomerTotalCarValue(customerId) {
  // Implement logic to calculate the total value of all cars owned by a specific customer
}

// Car operations
function getAllCarsForPurchase() {
  // Implement logic to retrieve all cars available for purchase
}

function searchCars(criteria) {
  // Implement logic to search for cars based on criteria
}

function getMostExpensiveCar() {
  // Implement logic to return the most expensive car available for sale
}

function getCheapestCar() {
  // Implement logic to return the cheapest car available for sale
}

// Car purchase operations
function sellCar(agencyId, customerId, carId) {
  // Implement logic to sell a car to a specific customer
}

function getTotalMarketRevenue() {
  // Implement logic to calculate and return the total revenue of the entire market
}






































</script>



















<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
</body>
</html>